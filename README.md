# 🎵 Gentle Audio Transcription Viewer

A web-based tool for visualizing and interacting with audio transcriptions generated by the [Gentle](https://github.com/lowerquality/gentle) forced alignment system.

## English

### Overview

The Gentle Audio Transcription Viewer is an interactive web application that allows you to:

- Load audio files and their corresponding JSON transcription data
- View synchronized transcriptions with word-level timing
- Click on words to jump to specific audio positions
- Control playback speed with preset speeds
- View phoneme-level details for precise pronunciation analysis
- Switch between English and Spanish interface languages

### Features

- **Dual Input Methods**: Upload local files or load content from URLs
- **Interactive Transcription**: Click any word to jump to that position in the audio
- **Real-time Highlighting**: Words are highlighted as the audio plays
- **Phoneme Visualization**: Hover over words to see phonetic breakdown
- **Speed Control**: Adjust playback speed from 0.5x to 2x
- **Bilingual Interface**: Full support for English and Spanish
- **Responsive Design**: Works on desktop and mobile devices
- **Keyboard Shortcuts**: Space to play/pause, Ctrl+1/2/3 for speed control

### Getting Started

#### Prerequisites

- A modern web browser (Chrome, Firefox, Safari, Edge)
- Audio files in supported formats (WAV, MP3, M4A, OGG)
- JSON transcription files generated by Gentle

#### Installation

1. Clone this repository:

```bash
git clone https://github.com/jfernandogt/gentler-viewer.git
cd gentler-viewer
```

2. Open `index.html` in your web browser, or serve it using a local web server:

```bash
# Using Python 3
python -m http.server 8000

# Using Node.js (if you have http-server installed)
npx http-server

# Using PHP
php -S localhost:8000
```

3. Navigate to `http://localhost:8000` in your browser

#### Usage

1. **Choose Input Method**:

   - **Upload Files**: Select local audio and JSON files from your computer
   - **Use URLs**: Enter direct URLs to audio and JSON files hosted online

2. **Load Your Content**:

   - For files: Click "Browse" buttons to select your audio file and corresponding JSON transcription
   - For URLs: Paste the URLs into the respective fields
   - Click "Load Files" to begin

3. **Interact with the Transcription**:
   - Use the audio controls to play/pause
   - Click on any highlighted word to jump to that position
   - Adjust playback speed using the speed controls
   - Watch as words are highlighted in real-time during playback

#### JSON Format

The application expects JSON files in the Gentle output format:

```json
{
  "transcript": "Your full transcript text here",
  "words": [
    {
      "case": "success",
      "start": 0.5,
      "end": 1.2,
      "word": "hello",
      "startOffset": 0,
      "endOffset": 5,
      "phones": [
        { "phone": "HH_B", "duration": 0.1 },
        { "phone": "AH_I", "duration": 0.3 },
        { "phone": "L_I", "duration": 0.2 },
        { "phone": "OW_E", "duration": 0.1 }
      ]
    }
  ]
}
```

#### Keyboard Shortcuts

- **Space**: Play/Pause audio
- **Ctrl/Cmd + 1**: Set speed to 1x
- **Ctrl/Cmd + 2**: Set speed to 1.25x
- **Ctrl/Cmd + 3**: Set speed to 1.5x
- **Ctrl/Cmd + ,**: Decrease speed by 0.25x
- **Ctrl/Cmd + .**: Increase speed by 0.25x

### Browser Compatibility

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

### Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

### License

This project is open source. Please check the repository for license details.

### Credits

Developed by Fernando Barrios. Built for use with the [Gentle](https://github.com/lowerquality/gentle) forced alignment system.

---

## Español

### Descripción General

El Visualizador de Transcripciones de Audio Gentle es una aplicación web interactiva que te permite:

- Cargar archivos de audio y sus datos de transcripción JSON correspondientes
- Ver transcripciones sincronizadas con temporización a nivel de palabra
- Hacer clic en palabras para saltar a posiciones específicas del audio
- Controlar la velocidad de reproducción con velocidades predefinidas
- Ver detalles a nivel de fonema para análisis preciso de pronunciación
- Cambiar entre idiomas de interfaz inglés y español

### Características

- **Métodos de Entrada Duales**: Sube archivos locales o carga contenido desde URLs
- **Transcripción Interactiva**: Haz clic en cualquier palabra para saltar a esa posición en el audio
- **Resaltado en Tiempo Real**: Las palabras se resaltan mientras se reproduce el audio
- **Visualización de Fonemas**: Pasa el cursor sobre las palabras para ver el desglose fonético
- **Control de Velocidad**: Ajusta la velocidad de reproducción de 0.5x a 2x
- **Interfaz Bilingüe**: Soporte completo para inglés y español
- **Diseño Responsivo**: Funciona en dispositivos de escritorio y móviles
- **Atajos de Teclado**: Espacio para reproducir/pausar, Ctrl+1/2/3 para control de velocidad

### Comenzando

#### Prerrequisitos

- Un navegador web moderno (Chrome, Firefox, Safari, Edge)
- Archivos de audio en formatos compatibles (WAV, MP3, M4A, OGG)
- Archivos de transcripción JSON generados por Gentle

#### Instalación

1. Clona este repositorio:

```bash
git clone https://github.com/jfernandogt/gentler-viewer.git
cd gentler-viewer
```

2. Abre `index.html` en tu navegador web, o sírvelo usando un servidor web local:

```bash
# Usando Python 3
python -m http.server 8000

# Usando Node.js (si tienes http-server instalado)
npx http-server

# Usando PHP
php -S localhost:8000
```

3. Navega a `http://localhost:8000` en tu navegador

#### Uso

1. **Elige el Método de Entrada**:

   - **Subir Archivos**: Selecciona archivos de audio y JSON locales desde tu computadora
   - **Usar URLs**: Ingresa URLs directas a archivos de audio y JSON alojados en línea

2. **Carga tu Contenido**:

   - Para archivos: Haz clic en los botones "Examinar" para seleccionar tu archivo de audio y la transcripción JSON correspondiente
   - Para URLs: Pega las URLs en los campos respectivos
   - Haz clic en "Cargar Archivos" para comenzar

3. **Interactúa con la Transcripción**:
   - Usa los controles de audio para reproducir/pausar
   - Haz clic en cualquier palabra resaltada para saltar a esa posición
   - Ajusta la velocidad de reproducción usando los controles de velocidad
   - Observa cómo las palabras se resaltan en tiempo real durante la reproducción

#### Formato JSON

La aplicación espera archivos JSON en el formato de salida de Gentle:

```json
{
  "transcript": "Tu texto de transcripción completo aquí",
  "words": [
    {
      "case": "success",
      "start": 0.5,
      "end": 1.2,
      "word": "hola",
      "startOffset": 0,
      "endOffset": 4,
      "phones": [
        { "phone": "HH_B", "duration": 0.1 },
        { "phone": "AH_I", "duration": 0.3 },
        { "phone": "L_I", "duration": 0.2 },
        { "phone": "OW_E", "duration": 0.1 }
      ]
    }
  ]
}
```

#### Atajos de Teclado

- **Espacio**: Reproducir/Pausar audio
- **Ctrl/Cmd + 1**: Establecer velocidad a 1x
- **Ctrl/Cmd + 2**: Establecer velocidad a 1.25x
- **Ctrl/Cmd + 3**: Establecer velocidad a 1.5x
- **Ctrl/Cmd + ,**: Disminuir velocidad en 0.25x
- **Ctrl/Cmd + .**: Aumentar velocidad en 0.25x

### Compatibilidad de Navegadores

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

### Contribuciones

¡Las contribuciones son bienvenidas! Por favor, siéntete libre de enviar un Pull Request.

### Licencia

Este proyecto es de código abierto. Por favor, consulta el repositorio para detalles de la licencia.

### Créditos

Desarrollado por Fernando Barrios. Construido para usar con el sistema de alineación forzada [Gentle](https://github.com/lowerquality/gentle).
